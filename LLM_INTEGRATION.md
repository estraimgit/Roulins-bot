# üß† LLM –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –ê–Ω–∞–ª–∏–∑–∞ –°–æ–æ–±—â–µ–Ω–∏–π

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM (Large Language Model) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ—Ç—É:

- **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–û–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏—è** –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**
- **–û—Ü–µ–Ω–∏–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω—É–¥–∂–∏–Ω–≥–∞**
- **–ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∏—Å–∫ –≤—ã—Ö–æ–¥–∞ –∏–∑ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞**

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ê–Ω–∞–ª–∏–∑ –°–æ–æ–±—â–µ–Ω–∏–π
- **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: positive, negative, neutral, anxious, frustrated, cooperative, defensive
- **–ù–∞–º–µ—Ä–µ–Ω–∏—è**: cooperate, defect, question, complaint, confusion, agreement, disagreement
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: high, medium, low
- **–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —É–±–µ–∂–¥–µ–Ω–∏—é**: high, medium, low
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ–º

### 2. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –û—Ç–≤–µ—Ç—ã
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —ç–º–æ—Ü–∏–π
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≥—Ä—É–ø–ø–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ (confess/silent)
- –£—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏

### 3. –ê–Ω–∞–ª–∏–∑ –ü–æ—Ç–æ–∫–∞ –†–∞–∑–≥–æ–≤–æ—Ä–∞
- **–£—Ä–æ–≤–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏**: high, medium, low
- **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞**: good, average, poor
- **–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: high, medium, low
- **–ü—Ä–æ–≥—Ä–µ—Å—Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞**: on_track, struggling, off_track

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –û—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω—É–¥–∂–∏–Ω–≥–∞
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ä–∏—Å–∫–∞ –≤—ã—Ö–æ–¥–∞ –∏–∑ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ API –ö–ª—é—á–∞

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [cloud.ru](https://cloud.ru)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
3. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
CLOUD_RU_API_KEY=your_cloud_ru_token_here
LLM_MODEL=gpt-3.5-turbo
LLM_ENABLED=true
LLM_ANALYSIS_ENABLED=true
```

### 3. –ó–∞–ø—É—Å–∫ LLM –ë–æ—Ç–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å LLM –±–æ—Ç–∞
./llm-manage.sh start

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
./llm-manage.sh update-token your_cloud_ru_token

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./llm-manage.sh status
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö

### LLM –ê–Ω–∞–ª–∏–∑
```json
{
  "emotion": "anxious",
  "intent": "question",
  "confidence": "medium",
  "persuasion_resistance": "high",
  "key_themes": ["uncertainty", "decision"],
  "suggested_response": "–ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ —Å–æ–º–Ω–µ–Ω–∏—è...",
  "nudging_effectiveness": "medium",
  "risk_of_dropout": "low"
}
```

### –ê–Ω–∞–ª–∏–∑ –ü–æ—Ç–æ–∫–∞ –†–∞–∑–≥–æ–≤–æ—Ä–∞
```json
{
  "engagement_level": "high",
  "conversation_quality": "good",
  "user_satisfaction": "high",
  "experiment_progress": "on_track",
  "recommendations": ["–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥"]
}
```

## üóÑÔ∏è –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ –¢–∞–±–ª–∏—Ü—ã

#### `llm_analysis`
- `participant_id` - ID —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `user_message` - –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `analysis_json` - JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞
- `bot_response` - –û—Ç–≤–µ—Ç –±–æ—Ç–∞
- `timestamp` - –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞

#### `conversation_flow`
- `participant_id` - ID —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `flow_analysis_json` - JSON —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ—Ç–æ–∫–∞
- `timestamp` - –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –ë–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å LLM –∞–Ω–∞–ª–∏–∑–æ–º
- `/status` - –°—Ç–∞—Ç—É—Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
- `/llm_status` - –°—Ç–∞—Ç—É—Å LLM –∞–Ω–∞–ª–∏–∑–∞
- `/help` - –°–ø—Ä–∞–≤–∫–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
./llm-manage.sh start          # –ó–∞–ø—É—Å–∫
./llm-manage.sh stop           # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
./llm-manage.sh restart        # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./llm-manage.sh status         # –°—Ç–∞—Ç—É—Å
./llm-manage.sh logs           # –õ–æ–≥–∏

# –ê–Ω–∞–ª–∏–∑ –∏ –¥–∞–Ω–Ω—ã–µ
./llm-manage.sh check-analysis # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–∞–ª–∏–∑
./llm-manage.sh export-data    # –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
./llm-manage.sh update-token   # –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
```

## üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ LLM –ê–Ω–∞–ª–∏–∑–∞

1. **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π –≤ —Ö–æ–¥–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω—É–¥–∂–∏–Ω–≥–∞** - –æ—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä–µ—à–µ–Ω–∏—è
3. **–ö–∞—á–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è** - —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. **–†–∏—Å–∫ –≤—ã—Ö–æ–¥–∞** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –≠–∫—Å–ø–æ—Ä—Ç –î–∞–Ω–Ω—ã—Ö

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö LLM –¥–∞–Ω–Ω—ã—Ö
./llm-manage.sh export-data

# –§–∞–π–ª: llm_analysis_export.json
{
  "export_timestamp": "2025-10-16T15:00:00",
  "total_analyses": 150,
  "analyses": [...]
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–Ω–æ–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –î–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ù–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å API

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
./llm-manage.sh check-analysis

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
./llm-manage.sh update-token new_token

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
./llm-manage.sh logs
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ LLM

```bash
# –í .env —Ñ–∞–π–ª–µ
LLM_ENABLED=false
LLM_ANALYSIS_ENABLED=false

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./llm-manage.sh restart
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –ê–Ω–∞–ª–∏–∑–∞

### –ü—Ä–∏–º–µ—Ä 1: –¢—Ä–µ–≤–æ–∂–Ω—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```
–°–æ–æ–±—â–µ–Ω–∏–µ: "–Ø –Ω–µ –∑–Ω–∞—é, —á—Ç–æ –¥–µ–ª–∞—Ç—å... –≠—Ç–æ —Å–ª–æ–∂–Ω–æ"
–ê–Ω–∞–ª–∏–∑: {
  "emotion": "anxious",
  "intent": "confusion",
  "confidence": "low",
  "risk_of_dropout": "high"
}
–û—Ç–≤–µ—Ç: "–ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ —Å–æ–º–Ω–µ–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ..."
```

### –ü—Ä–∏–º–µ—Ä 2: –£–≤–µ—Ä–µ–Ω–Ω—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```
–°–æ–æ–±—â–µ–Ω–∏–µ: "–Ø –≥–æ—Ç–æ–≤ –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É!"
–ê–Ω–∞–ª–∏–∑: {
  "emotion": "positive",
  "intent": "cooperate",
  "confidence": "high",
  "nudging_effectiveness": "high"
}
–û—Ç–≤–µ—Ç: "–û—Ç–ª–∏—á–Ω–æ! –ß–µ—Å—Ç–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∞–∂–Ω–∞ –≤ –ª—é–±—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö."
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –°—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ë–æ—Ç–æ–º

LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º:

- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –°–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –≥—Ä—É–ø–ø–∞–º
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω—É–¥–∂–∏–Ω–≥–∞
- ‚úÖ –ü–æ—Å—Ç-–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ–ø—Ä–æ—Å
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `./llm-manage.sh logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `./llm-manage.sh status`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∞–ª–∏–∑: `./llm-manage.sh check-analysis`
4. –û–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω: `./llm-manage.sh update-token`

---

**üéâ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
